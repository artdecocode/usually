{"version":3,"sources":["../src/index.js"],"names":["usually","config","usage","description","line","example","commands","Object","keys","descriptions","values","commandLength","reduce","longestName","longestDescription","name","command","theLongest","split","acc","c","length","pad","string","l","ts","repeat","s","usa","i","value","vals","firstVal","otherVals","firstLine","emptyPad","otherLines","map","val","r","res","USA","a","u","join"],"mappings":";;;;;;;AAAA;;;;;;;;AAQA;;;;AAIe,SAASA,OAAT,CAAiBC,SAAS,EAA1B,EAA8B;AAC3C,QAAM;AACJC,YAAQ,EADJ;AAEJC,eAFI;AAGJC,QAHI;AAIJC;AAJI,MAKFJ,MALJ;AAMA,QAAMK,WAAWC,OAAOC,IAAP,CAAYN,KAAZ,CAAjB;AACA,QAAMO,eAAeF,OAAOG,MAAP,CAAcR,KAAd,CAArB;AAEA,QAAM,CAACS,aAAD,IAAkBL,SAASM,MAAT,CAAgB,CAAC,CAACC,cAAc,CAAf,EAAkBC,qBAAqB,CAAvC,CAAD,EAA4CC,IAA5C,KAAqD;AAC3F;AACA,UAAMC,UAAUd,MAAMa,IAAN,CAAhB;AACA,UAAME,aAAaD,QAAQE,KAAR,CAAc,IAAd,EAChBN,MADgB,CACT,CAACO,GAAD,EAAMC,CAAN,KAAY;AAClB,UAAIA,EAAEC,MAAF,GAAWF,GAAf,EAAoB,OAAOC,EAAEC,MAAT;AACpB,aAAOF,GAAP;AACD,KAJgB,EAId,CAJc,CAAnB;AAKA,QAAIF,aAAaH,kBAAjB,EAAqCA,qBAAqBG,UAArB;AACrC,QAAIF,KAAKM,MAAL,GAAcR,WAAlB,EAA+BA,cAAcE,KAAKM,MAAnB;AAC/B,WAAO,CAACR,WAAD,EAAcC,kBAAd,CAAP;AACD,GAXuB,EAWrB,EAXqB,CAAxB;;AAaA,QAAMQ,MAAM,CAACC,MAAD,EAASF,MAAT,KAAoB;AAC9B,UAAMG,IAAIH,SAASE,OAAOF,MAA1B;AACA,UAAMI,KAAK,IAAIC,MAAJ,CAAWF,CAAX,CAAX;AACA,UAAMG,IAAK,GAAEJ,MAAO,GAAEE,EAAG,EAAzB;AACA,WAAOE,CAAP;AACD,GALD;;AAOA,QAAMC,MAAMtB,SAASM,MAAT,CAAgB,CAACO,GAAD,EAAMH,OAAN,EAAea,CAAf,KAAqB;AAC/C,UAAMC,QAAQrB,aAAaoB,CAAb,CAAd;AACA,UAAME,OAAOD,MAAMZ,KAAN,CAAY,IAAZ,CAAb;AACA,UAAME,IAAIE,IAAIN,OAAJ,EAAaL,aAAb,CAAV;AACA,UAAM,CAACqB,QAAD,EAAW,GAAGC,SAAd,IAA2BF,IAAjC;AACA,UAAMG,YAAa,GAAEd,CAAE,KAAIY,QAAS,EAApC;AACA,UAAMG,WAAWb,IAAI,EAAJ,EAAQX,aAAR,CAAjB;AACA,UAAMyB,aAAaH,UAAUI,GAAV,CAAcC,OAAO;AACtC,YAAMC,IAAK,GAAEJ,QAAS,KAAIG,GAAI,EAA9B;AACA,aAAOC,CAAP;AACD,KAHkB,CAAnB;AAIA,UAAMC,MAAM,CAAC,GAAGrB,GAAJ,EAASe,SAAT,EAAoB,GAAGE,UAAvB,CAAZ;AACA,WAAOI,GAAP;AACD,GAbW,EAaT,EAbS,CAAZ;AAeA,QAAMC,MAAMb,IAAIS,GAAJ,CAAQK,KAAM,KAAIA,CAAE,EAApB,CAAZ;AACA,QAAMC,IAAK,GAAExC,WAAY;;IAEvBC,IAAK;;EAEPqC,IAAIG,IAAJ,CAAS,IAAT,CAAe;CAJf;;AAQA,MAAIvC,OAAJ,EAAa;AACX,WAAQ,GAAEsC,CAAE;;;MAGVtC,OAAQ;CAHV;AAKD;;AAED,SAAOsC,CAAP;AACD","sourcesContent":["/**\n * @typedef {Object} Config\n * @property {Object.<string, string>} usage An map with arguments and their explanations.\n * @property {string} description Description\n * @property {string} line A line to display as summary\n * @property {string} example An example\n */\n\n/**\n * Generate a usage string.\n * @param {Config} config\n */\nexport default function usually(config = {}) {\n  const {\n    usage = {},\n    description,\n    line,\n    example,\n  } = config\n  const commands = Object.keys(usage)\n  const descriptions = Object.values(usage)\n\n  const [commandLength] = commands.reduce(([longestName = 0, longestDescription = 0], name) => {\n    /** @type {string} */\n    const command = usage[name]\n    const theLongest = command.split('\\n')\n      .reduce((acc, c) => {\n        if (c.length > acc) return c.length\n        return acc\n      }, 0)\n    if (theLongest > longestDescription) longestDescription = theLongest\n    if (name.length > longestName) longestName = name.length\n    return [longestName, longestDescription]\n  }, [])\n\n  const pad = (string, length) => {\n    const l = length - string.length\n    const ts = ' '.repeat(l)\n    const s = `${string}${ts}`\n    return s\n  }\n\n  const usa = commands.reduce((acc, command, i) => {\n    const value = descriptions[i]\n    const vals = value.split('\\n')\n    const c = pad(command, commandLength)\n    const [firstVal, ...otherVals] = vals\n    const firstLine = `${c}\\t${firstVal}`\n    const emptyPad = pad('', commandLength)\n    const otherLines = otherVals.map(val => {\n      const r = `${emptyPad}\\t${val}`\n      return r\n    })\n    const res = [...acc, firstLine, ...otherLines]\n    return res\n  }, [])\n\n  const USA = usa.map(a => `\\t${a}`)\n  const u = `${description}\n\n  ${line}\n\n${USA.join('\\n')}\n`\n\n\n  if (example) {\n    return `${u}\n  Example:\n\n    ${example}\n`\n  }\n\n  return u\n}\n"],"file":"index.js"}